# Goodsale Project

Goodsale — асинхронное приложение на Python для парсинга данных о товарах из XML-фида, их хранения в базе данных PostgreSQL и индексирования в Elasticsearch.
## Описание Решения Тестового Задания

Проект был решён двумя способами:

1. **Ветка `dev`:** Использование многопоточности с `ThreadPoolExecutor` для параллельной обработки данных.
2. **Ветка `async_realization`:** Использование асинхронного программирования с `asyncio` для обработки данных.

## Установка

### 1. Клонирование репозитория

```bash
git clone https://github.com/your_username/goodsale_project.git
cd goodsale_project
```

### 2. Настройка переменных окружения
1. Скопируйте пример файла .env.example:

```bash
cp .env.example .env
```

2. Отредактируйте .env, указав свои данные.

3. Установка зависимостей

Установите зависимости с помощью Poetry:

```bash
poetry install
```
4. Сборка и запуск контейнеров

Соберите и запустите контейнеры с помощью Docker Compose:

```bash
docker-compose up --build
```

## Примеры Матчинга SKU

| **SKU UUID**                             | **Название Продукта**                                                                                                   | **Similar SKU UUID**                     | **Название Похожего Продукта**                                                                                              |
|------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
| 005ae499-1710-4fe1-8c08-c46bf7eca07e     | Силиконовый чехол на Xiaomi Redmi A3 / Poco C61 с принтом "Котик и жвачка"                                               | 4a806f71-0423-400c-b97f-10cc6032889f     | Силиконовый чехол на Xiaomi Redmi Note 12 с принтом "Котик и жвачка"                                                       |
| 005ae499-1710-4fe1-8c08-c46bf7eca07e     | Силиконовый чехол на Xiaomi Redmi A3 / Poco C61 с принтом "Котик и жвачка"                                               | 6ffce54d-800f-4150-bb65-23ff72b6d479     | Силиконовый чехол на Xiaomi Redmi A3 / Poco C61 с принтом "Котик и жвачка"                                                 |
| 005ae499-1710-4fe1-8c08-c46bf7eca07e     | Силиконовый чехол на Xiaomi Redmi A3 / Poco C61 с принтом "Котик и жвачка"                                               | 7d93a7cf-9fcb-4681-a18c-9559e61dfc25     | Силиконовый чехол на Xiaomi Redmi Note 12 с принтом "Котик и жвачка"                                                       |
| 005ae499-1710-4fe1-8c08-c46bf7eca07e     | Силиконовый чехол на Xiaomi Redmi A3 / Poco C61 с принтом "Котик и жвачка"                                               | 832e3889-4746-4b9e-b5f1-89dc1cae68dc     | Силиконовый чехол на Xiaomi Poco C40 с принтом "Котик и жвачка"                                                            |
| 005ae499-1710-4fe1-8c08-c46bf7eca07e     | Силиконовый чехол на Xiaomi Redmi A3 / Poco C61 с принтом "Котик и жвачка"                                               | e4b40c55-c6af-46e5-8626-794d138559b6     | Силиконовый чехол на Xiaomi Poco C40 с принтом "Котик и жвачка"                                                            |
| 00b5e09e-6c8e-4897-b8bb-734f89d78873     | Комплект 3шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / матовая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г | 07afdaaa-04d6-4cc6-a181-5fd7afcc2cd8     | Комплект 5шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / матовая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г |
| 00b5e09e-6c8e-4897-b8bb-734f89d78873     | Комплект 3шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / матовая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г | 5f9c8b12-94aa-441e-99c7-52b8547bc403     | Комплект 3шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / глянцевая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г |
| 00b5e09e-6c8e-4897-b8bb-734f89d78873     | Комплект 3шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / матовая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г | 74912d6a-b748-478a-99ae-5146577ff0b4     | Комплект 2шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / матовая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г |
| 00b5e09e-6c8e-4897-b8bb-734f89d78873     | Комплект 3шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / матовая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г | ecfc4270-40c8-4ecb-b9d5-f97adfa14c1c     | Комплект 3шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / матовая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г |
| 00b5e09e-6c8e-4897-b8bb-734f89d78873     | Комплект 3шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / матовая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г | f0158b49-d945-4465-9d3c-67316dada8a4     | Комплект 3шт. Защитная гидрогелевая пленка на Samsung Galaxy S20 Ultra 5G / глянцевая на экран / Противоударная бронепленка с эффектом восстановления на Самсунг Галакси С20 Ультра 5Г |

### **Описание Столбцов:**

- **SKU UUID:** Уникальный идентификатор основного товара.
- **Название Продукта:** Название основного SKU.
- **Similar SKU UUID:** Уникальные идентификаторы похожих товаров.
- **Название Похожего Продукта:** Названия товаров, схожих с основным SKU.

### Пример SQL-запроса:
```sql
SELECT s1.uuid AS sku_uuid,
       s1.title AS sku_title,
       s2.uuid AS similar_sku_uuid,
       s2.title AS similar_sku_title
FROM sku s1
JOIN sku s2
  ON s2.uuid = ANY(s1.similar_sku)
LIMIT 10;
